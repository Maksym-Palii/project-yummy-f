"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[335],{8184:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(4165),a=n(5861),i=n(1243),c=n(9113);i.Z.defaults.baseURL=c.F;var o=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("api/recipes/category-list");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=o;i.Z.defaults.baseURL=c.F;var u=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,c,o=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:1,a=o.length>2&&void 0!==o[2]?o[2]:8,e.next=4,i.Z.get("api/recipes/category/".concat(t,"?page=").concat(n,"&limit=").concat(a));case 4:return c=e.sent,e.abrupt("return",c.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=u;i.Z.defaults.baseURL=c.F;var l=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("api/recipes/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=l;i.Z.defaults.baseURL=c.F;var f=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("api/recipes/main-page");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d={fetchCategories:s,fetchRecipies:p,getRecipeById:x,fetchRecipesMainPage:f}},4335:function(e,t,n){n.r(t),n.d(t,{default:function(){return R}});var r=n(4165),a=n(5861),i=n(9439),c=n(1889),o=n(4818),s=n(2791),u=n(7689),p=n(9198),l=n(7621),x=n(6647),f=n(2169),d=n(9504),h=n(890),v=n(184),g=function(e){var t=e.id,n=e.title,r=e.thumb,a=e.handleRecipe;return(0,v.jsx)(l.Z,{onClick:function(){return a(t)},sx:{position:"relative"},children:(0,v.jsxs)(x.Z,{children:[(0,v.jsx)(f.Z,{sx:{height:"323px",width:"100%",position:"relative",borderRadius:"8px"},component:"img",image:r,alt:n}),(0,v.jsx)(d.Z,{sx:{p:2,left:"16px",right:"16px",position:"absolute",bottom:"24px",backgroundColor:"white",borderRadius:"8px"},children:(0,v.jsx)(h.Z,{variant:"body2",color:"text.secondary",sx:{color:" #3E4462",fontFamily:"Poppins",fontSize:"16px",fontWeight:"500",lineHeight:"20px",letterSpacing:"-0.24px"},children:n})})]})})},Z=n(8184);function m(e){var t=e.children;return(0,v.jsx)(h.Z,{variant:"h2",sx:{color:"#001833",fontFamily:"Poppins",fontWeight:"600",lineHeight:"1",pt:{xs:6.5,md:9,lg:20.5},fontSize:{xs:"28px",md:"32px",lg:"44px"},letterSpacing:{xs:"-0.56px",md:"-0.64px",lg:"-0.88px"},mb:{xs:"28px",md:"32px",lg:"72px"}},children:t})}var b=n(4554),w=n(1022),y=n(3896);function k(e){var t=e.onError,n=(0,s.useState)(!1),c=(0,i.Z)(n,2),o=c[0],p=c[1],l=(0,s.useState)([]),x=(0,i.Z)(l,2),f=x[0],d=x[1],h=(0,u.UO)().categoryName,g=(0,u.s0)();(0,s.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=d,e.next=4,Z.Z.fetchCategories();case 4:e.t1=e.sent,(0,e.t0)(e.t1),e.next=11;break;case 8:e.prev=8,e.t2=e.catch(0),console.log(e.t2);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,s.useEffect)((function(){null!==f&&void 0!==f&&f.length&&null!==f&&void 0!==f&&f.find((function(e){return e.toLowerCase()===h}))?(p(!1),t(!1)):(p(!0),t("Don't find categorie"))}),[f,h,t]);return!o&&(0,v.jsx)(b.Z,{sx:{width:"100%"},children:(0,v.jsx)(w.Z,{sx:{mt:10,borderBottom:"1px solid #eaeaea"},value:h,onChange:function(e,t){g("/categories/".concat(t))},variant:"scrollable",scrollButtons:"auto",children:null===f||void 0===f?void 0:f.map((function(e){return(0,v.jsx)(y.Z,{sx:{py:{xs:"32px",md:"28px"},px:{xs:"14px",md:"28px"},textTransform:"capitalize",color:"#BDBDBD",fontWeight:"400",lineHeight:"1",fontFamily:"Poppins",fontSize:{xs:"14px",md:"18px"}},value:e.toLowerCase(),label:e},e)}))})})}var j=n(1794),R=function(){var e=(0,u.s0)(),t=(0,s.useState)([]),n=(0,i.Z)(t,2),l=n[0],x=n[1],f=(0,s.useState)(1),d=(0,i.Z)(f,2),h=d[0],b=d[1],w=(0,s.useState)(0),y=(0,i.Z)(w,2),R=y[0],S=y[1],C=(0,u.UO)().categoryName,E=(0,s.useState)(!1),F=(0,i.Z)(E,2),P=F[0],B=F[1];(0,s.useEffect)((function(){var t=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.Z.fetchRecipies(t);case 3:if(null===(n=e.sent)||void 0===n||!n.recipes){e.next=11;break}x(null===n||void 0===n?void 0:n.recipes),S(null===n||void 0===n?void 0:n.totalPages),b(1),B(!1),e.next=12;break;case 11:throw new Error("dont find this categories");case 12:e.next=19;break;case 14:e.prev=14,e.t0=e.catch(0),x([]),B(!0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),n=":categoryName"===C?"beef":C;t(n),e("/categories/".concat(n))}),[C,e]);var L=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(n),e.prev=1,e.next=4,Z.Z.fetchRecipies(C,n);case 4:if(null===(a=e.sent)||void 0===a||!a.recipes){e.next=10;break}x(null===a||void 0===a?void 0:a.recipes),B(!1),e.next=11;break;case 10:throw new Error("dont find this category");case 11:e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),x([]),B(!0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,n){return e.apply(this,arguments)}}(),U=function(t){e("/recipe/".concat(t))};return(0,v.jsx)("section",{children:(0,v.jsxs)(p.W,{children:[!P&&(0,v.jsx)(m,{children:"Categories"}),(0,v.jsx)(k,{onError:function(e){return B(e)}}),!P&&(0,v.jsx)(c.ZP,{container:!0,pt:{xs:"32px",md:"50px"},mb:{xs:"60px",md:"100px"},rowSpacing:{xs:3.5,md:4,lg:12.5},columnSpacing:{md:4,lg:1.5},children:l&&l.length&&(null===l||void 0===l?void 0:l.map((function(e){var t=e._id,n=e.title,r=e.thumb;return(0,v.jsx)(c.ZP,{item:!0,xs:12,md:6,lg:3,children:(0,v.jsx)(g,{handleRecipe:U,id:t,title:n,thumb:r})},t)})))}),!P&&(0,v.jsx)(o.Z,{sx:{display:"flex",justifyContent:"center",m:"50px 0 100px"},count:R,page:h,onChange:L,variant:"outlined",color:"primary",size:"large"}),P&&(0,v.jsx)(j.Z,{})]})})}}}]);
//# sourceMappingURL=335.3a768313.chunk.js.map